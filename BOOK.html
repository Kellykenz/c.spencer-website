<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Contact Forms - Detailed Booking</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-whatsapp': '#25D366',
                        'brand-email': '#D93025',
                        'accent': '#4F46E5',
                        'primary-dark': '#1e293b',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Custom CSS for smooth transitions and focus states */
        .form-input {
            transition: all 0.2s ease-in-out;
        }
        .form-input:focus {
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.5); /* Accent color ring */
            border-color: #212130;
        }
        /* Modal Overlay for click-to-close functionality */
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 50;
            padding: 1rem; /* Ensure padding on all sides for small screens */
            overflow-y: auto; 
        }
        /* Ensure dropdown arrows are visible */
        select.form-input {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%236B7280'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd' /%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans min-h-screen pt-20 pb-4">

    <nav class="fixed top-0 left-0 w-full bg-white shadow-lg z-20">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex-shrink-0">
                    <a href="index.html" class="text-2xl font-bold text-primary-dark">C.<span style="color:rgb(95, 95, 95)">SPENCER</span></a>
                </div>

                <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                    <a href="index.html" class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-accent hover:text-accent transition duration-150">Home</a>
                    <a href="generic.html" class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-accent hover:text-accent transition duration-150">About</a>
                    <a href="elements.html" class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-accent hover:text-accent transition duration-150">Service</a>
                    <a href="contact.html" class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-accent hover:text-accent transition duration-150">Contact</a>
                    <a href="contact.html" class="inline-flex items-center px-1 pt-1 border-b-2 border-accent text-sm font-medium text-accent">Book Now</a>
                </div>

                <div class="sm:hidden flex items-center">
                    <button id="menuButton" type="button" onclick="toggleMenu()" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-accent" aria-controls="mobile-menu" aria-expanded="false">
                        <svg id="menuIcon" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <svg id="closeIcon" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <div class="sm:hidden hidden" id="mobileMenu">
            <div class="pt-2 pb-3 space-y-1 px-2 border-t">
                <a href="index.html" onclick="toggleMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-accent">Home</a>
                <a href="generic.html" onclick="toggleMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-accent">About</a>
                <a href="elements.html" onclick="toggleMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-accent">Service</a>
                <a href="contact.html" onclick="toggleMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-accent">Contact</a>
                <a href="contact.html" onclick="toggleMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-white bg-accent hover:bg-indigo-700">Book Now</a>
            </div>
        </div>
    </nav>
    <div class="flex items-start justify-center p-4">
        <div class="w-full max-w-lg bg-white shadow-xl rounded-2xl p-8 transition-all duration-300">
            
            <header class="text-center mb-10" id="contact">
                <h1 class="text-3xl font-extrabold text-primary-dark mb-2">Detailed Lesson Booking</h1>
                <p class="text-gray-500 text-lg">Choose your package and preferred contact method below.</p>
            </header>

            <div class="mb-10 p-6 bg-gray-50 rounded-xl border border-gray-200" id="pricing">
                <h2 class="text-xl font-bold text-accent mb-4 border-b pb-2">Our Flexible Pricing</h2>
                
                <div class="space-y-3">
                    
                    <div class="flex justify-between items-center text-gray-700">
                        <span class="font-medium">Per Session</span>
                        <span class="font-semibold text-primary-dark">$30 USD / 42,000 NGN</span>
                    </div>

                    <div class="flex justify-between items-center text-gray-700">
                        <span class="font-medium">5 Sessions</span>
                        <span class="font-semibold text-primary-dark">$140 USD / 196,000 NGN <span class="text-sm text-green-600">(Save $10)</span></span>
                    </div>

                    <div class="flex justify-between items-center text-gray-700">
                        <span class="font-medium">10 Sessions</span>
                        <span class="font-semibold text-primary-dark">$250 USD / 350,000 NGN <span class="text-sm text-green-600">(Save $50)</span></span>
                    </div>

                    <div class="flex justify-between items-center text-gray-700 bg-yellow-50 p-2 rounded-lg border-l-4 border-yellow-500">
                        <span class="font-bold">11 Sessions (Bonus Offer!)</span>
                        <span class="font-bold text-red-600">$250 USD / 350,000 NGN</span>
                    </div>
                </div>

                <hr class="my-4">

                <div class="text-center bg-blue-50 p-3 rounded-lg">
                    <p class="text-sm font-semibold text-blue-700">
                        Group Lessons: <span class="text-lg font-bold">$7 USD / 9,800 NGN</span> per player (minimum 4 players).
                    </p>
                </div>

                <p class="mt-4 text-xs text-gray-500 text-center">
                    * Note: The NGN price is illustrative, using $1 USD = 1400 NGN. Final pricing may vary slightly based on live exchange rates.
                </p>
                <p class="mt-1 text-xs text-gray-500 text-center">
                    ** Kid's Summer Camp fees are separate and updated seasonally.
                </p>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                <button
                    id="whatsappButton"
                    onclick="showForm('whatsapp')"
                    class="flex items-center justify-center p-4 rounded-xl text-white font-semibold text-lg bg-brand-whatsapp hover:bg-green-700 transition duration-200 shadow-md shadow-brand-whatsapp/50 transform hover:scale-[1.02] active:scale-[0.98]"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" viewBox="0 0 24 24" fill="currentColor"><path d="M12.04 2c-5.55 0-10 4.49-10 10 0 1.95.55 3.82 1.62 5.48l-1.42 5.15 5.34-1.4c1.55.85 3.32 1.3 5.38 1.3 5.55 0 10.04-4.49 10.04-10S17.59 2 12.04 2zm3.33 13.93s-.3.35-.4.45c-.43.53-2.18 2.37-4.14 2.45-1.96.08-3.32-.98-3.4-1.07-.1-.1-.7-.85-.7-1.63 0-.78.4-1.2.6-1.42.2-.21.4-.26.6-.26h.2c.2 0 .5.1.8.4.3.3.6.8.6.85.1.2.2.4 0 .58-.4.4-1.3.8-1.9.95-.5.15-.95.1-1.3-.35-.45-.48-1.4-1.45-1.4-2.8 0-1.35.75-2.06 1-2.3.2-.24.5-.3.7-.3h.4c.2 0 .5.1.7.3.3.3.85 1.15.95 1.45.1.3.1.5 0 .75-.2.2-1.25.9-1.25.9-.2.1-.2.4 0 .6.1.2.5.8.9.9.4.1.8.1 1.1-.1.4-.2.8-1 1.25-1.5.4-.5.9-.9 1.4-1.1.5-.2 1.1-.2 1.6 0 .5.2 1.4.9 1.4 1.7 0 .8-.5 1.4-.7 1.6z"/></svg>
                    WhatsApp Inquiry
                </button>

                <button
                    id="emailButton"
                    onclick="showForm('email')"
                    class="flex items-center justify-center p-4 rounded-xl text-white font-semibold text-lg bg-brand-email hover:bg-red-700 transition duration-200 shadow-md shadow-brand-email/50 transform hover:scale-[1.02] active:scale-[0.98]"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" viewBox="0 0 24 24" fill="currentColor"><path d="M2.003 5.884c.08-.29.28-.56.54-.74 1.15-.79 4.35-3.14 9.46-3.14 5.11 0 8.31 2.35 9.46 3.14.26.18.46.45.54.74.08.3-.02.61-.28.85l-9.72 7.82c-.17.14-.37.21-.57.21-.2 0-.4-.07-.57-.21l-9.72-7.82c-.26-.24-.36-.55-.28-.85zm1.18 2.05L12 16.5l8.82-8.57c.18-.18.28-.42.28-.67 0-.27-.11-.5-.28-.68-.85-.58-3.56-2.52-8.54-2.52-4.98 0-7.69 1.94-8.54 2.52-.17.18-.28.41-.28.68 0 .25.1.49.28.67zM12 18.5l-9.8-7.9c-.1-.08-.2-.14-.3-.18V19c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8.58c-.1.04-.2.1-.3.18L12 18.5z"/></svg>
                    Email Inquiry
                </button>
            </div>

            <div id="messageBox" class="mt-8 p-4 text-center rounded-lg shadow hidden" role="alert"></div>
        </div>
    </div>

    <div id="formModal" class="modal-overlay fixed inset-0 hidden items-center justify-center" onclick="if(event.target.id === 'formModal') closeForm()">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 opacity-0">
            
            <div class="sticky top-0 p-6 border-b flex justify-between items-center bg-white z-10 rounded-t-xl">
                <h2 id="modalTitle" class="text-2xl font-bold text-gray-800"></h2>
                <button onclick="closeForm()" class="text-gray-400 hover:text-gray-600 transition p-2 rounded-full hover:bg-gray-100">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>

            <form id="whatsappFormContent" class="p-6 space-y-4 hidden" onsubmit="handleWhatsAppSubmit(event)">
                <p class="text-sm text-gray-500">All fields marked with an asterisk (<span class="text-red-500">*</span>) are required.</p>
                
                <h3 class="font-semibold text-lg pt-2 text-gray-700">1. Personal Information</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="waName" class="block text-sm font-medium text-gray-700">Your Name <span class="text-red-500">*</span></label>
                        <input type="text" id="waName" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                    </div>
                    <div>
                        <label for="waEmail" class="block text-sm font-medium text-gray-700">Email Address <span class="text-red-500">*</span></label>
                        <input type="email" id="waEmail" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                    </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="waPhone" class="block text-sm font-medium text-gray-700">Phone Number <span class="text-red-500">*</span></label>
                        <input type="tel" id="waPhone" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent" placeholder="+1234567890">
                    </div>
                    <div>
                        <label for="waAge" class="block text-sm font-medium text-gray-700">Age Category (Kid's Lessons)</label>
                        <select id="waAge" class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                            <option value="N/A">N/A (Adult/General)</option>
                            <option value="5-8">Ages 5-8</option>
                            <option value="9-12">Ages 9-12</option>
                            <option value="13-16">Ages 13-16</option>
                            <option value="17+">Ages 17+</option>
                        </select>
                    </div>
                </div>
                
                <h3 class="font-semibold text-lg pt-2 text-gray-700">2. Tennis Details</h3>
                <div>
                    <label for="waExperience" class="block text-sm font-medium text-gray-700">Experience Level <span class="text-red-500">*</span></label>
                    <select id="waExperience" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                        <option value="">Select Level</option>
                        <option value="Beginner">Beginner (New to tennis)</option>
                        <option value="Intermediate">Intermediate (Played casually)</option>
                        <option value="Advanced">Advanced (Competitive/Team play)</option>
                    </select>
                </div>

                <div>
                    <label for="waGoal" class="block text-sm font-medium text-gray-700">Tennis Goal (e.g., fitness, competition, fun)</label>
                    <textarea id="waGoal" rows="2" class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent" placeholder="I want to learn serving, or, I want to join a local league."></textarea>
                </div>
                
                <h3 class="font-semibold text-lg pt-2 text-gray-700">3. Location and Payment</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="waCountry" class="block text-sm font-medium text-gray-700">Country <span class="text-red-500">*</span></label>
                        <input type="text" id="waCountry" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                    </div>
                    <div>
                        <label for="waLocation" class="block text-sm font-medium text-gray-700">City/Location <span class="text-red-500">*</span></label>
                        <input type="text" id="waLocation" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                    </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="waCurrency" class="block text-sm font-medium text-gray-700">Payment Currency <span class="text-red-500">*</span></label>
                        <select id="waCurrency" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                            <option value="">Select Currency</option>
                            <option value="USD">USD (US Dollar)</option>
                            <option value="EUR">EUR (Euro)</option>
                            <option value="GBP">GBP (Pound Sterling)</option>
                            <option value="NGN">NGN (Nigerian Naira)</option>
                            <option value="ZAR">ZAR (South African Rand)</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div>
                        <label for="waBank" class="block text-sm font-medium text-gray-700">Paying Bank Name <span class="text-red-500">*</span></label>
                        <input type="text" id="waBank" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                    </div>
                </div>
                
                <button type="submit" class="w-full py-3 px-4 rounded-lg text-white font-semibold bg-brand-whatsapp hover:bg-green-700 transition duration-200 shadow-md">
                    Send WhatsApp Request
                </button>
            </form>

            <form id="emailFormContent" class="p-6 space-y-4 hidden" onsubmit="handleEmailSubmit(event)">
                <p class="text-sm text-gray-500">All fields marked with an asterisk (<span class="text-red-500">*</span>) are required.</p>
                
                <h3 class="font-semibold text-lg pt-2 text-gray-700">1. Personal Information</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="emailName" class="block text-sm font-medium text-gray-700">Your Name <span class="text-red-500">*</span></label>
                        <input type="text" id="emailName" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                    </div>
                    <div>
                        <label for="emailAddr" class="block text-sm font-medium text-gray-700">Email Address <span class="text-red-500">*</span></label>
                        <input type="email" id="emailAddr" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                    </div>
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="emailPhone" class="block text-sm font-medium text-gray-700">Phone Number <span class="text-red-500">*</span></label>
                        <input type="tel" id="emailPhone" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent" placeholder="+1234567890">
                    </div>
                    <div>
                        <label for="emailAge" class="block text-sm font-medium text-gray-700">Age Category (Kid's Lessons)</label>
                        <select id="emailAge" class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                            <option value="N/A">N/A (Adult/General)</option>
                            <option value="5-8">Ages 5-8</option>
                            <option value="9-12">Ages 9-12</option>
                            <option value="13-16">Ages 13-16</option>
                            <option value="17+">Ages 17+</option>
                        </select>
                    </div>
                </div>

                <h3 class="font-semibold text-lg pt-2 text-gray-700">2. Tennis Details</h3>
                <div>
                    <label for="emailExperience" class="block text-sm font-medium text-gray-700">Experience Level <span class="text-red-500">*</span></label>
                    <select id="emailExperience" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                        <option value="">Select Level</option>
                        <option value="Beginner">Beginner (New to tennis)</option>
                        <option value="Intermediate">Intermediate (Played casually)</option>
                        <option value="Advanced">Advanced (Competitive/Team play)</option>
                    </select>
                </div>

                <div>
                    <label for="emailGoal" class="block text-sm font-medium text-gray-700">Tennis Goal (e.g., fitness, competition, fun)</label>
                    <textarea id="emailGoal" rows="2" class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent" placeholder="I want to learn serving, or, I want to join a local league."></textarea>
                </div>
                
                <h3 class="font-semibold text-lg pt-2 text-gray-700">3. Location and Payment</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="emailCountry" class="block text-sm font-medium text-gray-700">Country <span class="text-red-500">*</span></label>
                        <input type="text" id="emailCountry" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                    </div>
                    <div>
                        <label for="emailLocation" class="block text-sm font-medium text-gray-700">City/Location <span class="text-red-500">*</span></label>
                        <input type="text" id="emailLocation" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                    </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="emailCurrency" class="block text-sm font-medium text-gray-700">Payment Currency <span class="text-red-500">*</span></label>
                        <select id="emailCurrency" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                            <option value="">Select Currency</option>
                            <option value="USD">USD (US Dollar)</option>
                            <option value="EUR">EUR (Euro)</option>
                            <option value="GBP">GBP (Pound Sterling)</option>
                            <option value="NGN">NGN (Nigerian Naira)</option>
                            <option value="ZAR">ZAR (South African Rand)</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div>
                        <label for="emailBank" class="block text-sm font-medium text-gray-700">Paying Bank Name <span class="text-red-500">*</span></label>
                        <input type="text" id="emailBank" required class="form-input mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-accent focus:border-accent">
                    </div>
                </div>

                <button type="submit" class="w-full py-3 px-4 rounded-lg text-white font-semibold bg-brand-email hover:bg-red-700 transition duration-200 shadow-md">
                    Send Email Request
                </button>
            </form>
        </div>
    </div>

    <script>
        // --- CONFIGURATION: INPUT YOUR CONTACT DETAILS HERE ---
        // IMPORTANT: Replace the placeholder values with your actual number and email.
        const YOUR_WHATSAPP_NUMBER = "+2349011211609"; // Example: +27712345678 (Include the '+' and country code)
        const YOUR_EMAIL_ADDRESS = "kenzdyreal@gmail.com"; // Example: bookings@mysite.com
        // ----------------------------------------------------

        const formModal = document.getElementById('formModal');
        const modalContent = formModal.querySelector('div');
        const modalTitle = document.getElementById('modalTitle');
        const whatsappForm = document.getElementById('whatsappFormContent');
        const emailForm = document.getElementById('emailFormContent');
        const messageBox = document.getElementById('messageBox');
        
        // Navbar elements
        const menuButton = document.getElementById('menuButton');
        const mobileMenu = document.getElementById('mobileMenu');
        const menuIcon = document.getElementById('menuIcon');
        const closeIcon = document.getElementById('closeIcon');

        /**
         * Toggles the visibility of the mobile navigation menu.
         */
        function toggleMenu() {
            const isHidden = mobileMenu.classList.contains('hidden');
            
            if (isHidden) {
                // Show menu
                mobileMenu.classList.remove('hidden');
                // Toggle icons (Hamburger to X)
                menuIcon.classList.add('hidden');
                closeIcon.classList.remove('hidden');
            } else {
                // Hide menu
                mobileMenu.classList.add('hidden');
                // Toggle icons (X to Hamburger)
                menuIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');
            }
        }


        /**
         * Clears all form fields.
         */
        function clearForm(formElement) {
            formElement.reset();
        }

        /**
         * Displays the selected contact form modal.
         */
        function showForm(type) {
            whatsappForm.classList.add('hidden');
            emailForm.classList.add('hidden');
            
            clearForm(whatsappForm);
            clearForm(emailForm);
            
            if (type === 'whatsapp') {
                modalTitle.textContent = 'Detailed WhatsApp Inquiry';
                whatsappForm.classList.remove('hidden');
            } else if (type === 'email') {
                modalTitle.textContent = 'Detailed Email Inquiry';
                emailForm.classList.remove('hidden');
            }

            // Show modal with animation
            formModal.classList.remove('hidden');
            formModal.classList.add('flex', 'opacity-100');
            
            setTimeout(() => {
                // Ensure form scrolls to top on open
                modalContent.scrollTop = 0;
                modalContent.classList.remove('scale-95', 'opacity-0');
                modalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        /**
         * Closes the form modal.
         */
        function closeForm() {
            modalContent.classList.remove('scale-100', 'opacity-100');
            modalContent.classList.add('scale-95', 'opacity-0');
            
            setTimeout(() => {
                formModal.classList.remove('flex', 'opacity-100');
                formModal.classList.add('hidden');
            }, 300);
        }

        /**
         * Shows a temporary success or error message.
         */
        function showMessage(message, type) {
            messageBox.textContent = message;
            messageBox.classList.remove('hidden', 'bg-green-100', 'text-green-800', 'bg-red-100', 'text-red-800');

            if (type === 'success') {
                messageBox.classList.add('bg-green-100', 'text-green-800');
            } else {
                messageBox.classList.add('bg-red-100', 'text-red-800');
            }
            messageBox.classList.remove('hidden');

            setTimeout(() => {
                messageBox.classList.add('hidden');
            }, 5000);
        }

        /**
         * Creates the formatted message body from form data.
         */
        function createMessageBody(type, name, email, phone, age, experience, goal, country, location, currency, bank) {
            // Determine the phone field name based on the form type
            const phoneLabel = type === 'whatsapp' ? 'WhatsApp Number' : 'Phone Number';

            let message = `--- Detailed Lesson Inquiry ---\n\n`;
            let message = `Hello! I am submitting a new tennis lesson inquiry from your website.`;
            message += `1. Personal Information:\n`;
            message += `- Name: ${name}\n`;
            message += `- Email: ${email}\n`;
            message += `- ${phoneLabel}: ${phone}\n`;
            message += `- Age Category (Kids): ${age}\n\n`;
            
            message += `2. Tennis Details:\n`;
            message += `- Experience Level: ${experience}\n`;
            message += `- Goal: ${goal}\n\n`;
            
            message += `3. Location and Payment:\n`;
            message += `- Country: ${country}\n`;
            message += `- City/Location: ${location}\n`;
            message += `- Preferred Currency: ${currency}\n`;
            message += `- Paying Bank: ${bank}\n\n`;
            message += `-------------------------------\n`;
            message += `Please confirm availability and next steps. Thank you.`;
            
            return message;
        }

        /**
         * Handles the WhatsApp form submission (opens wa.me link).
         */
        function handleWhatsAppSubmit(event) {
            event.preventDefault();
            
            const name = document.getElementById('waName').value;
            const email = document.getElementById('waEmail').value;
            const phone = document.getElementById('waPhone').value;
            const age = document.getElementById('waAge').value;
            const experience = document.getElementById('waExperience').value;
            const goal = document.getElementById('waGoal').value || 'Not Specified';
            const country = document.getElementById('waCountry').value;
            const location = document.getElementById('waLocation').value;
            const currency = document.getElementById('waCurrency').value;
            const bank = document.getElementById('waBank').value;
            
            if (!name || !email || !phone || !experience || !country || !location || !currency || !bank) {
                showMessage("Please fill out all required fields marked with *.", 'error');
                return;
            }

            const message = createMessageBody('whatsapp', name, email, phone, age, experience, goal, country, location, currency, bank);

            // Encode the message and construct the WhatsApp link
            const whatsappLink = `https://wa.me/${YOUR_WHATSAPP_NUMBER.replace(/\+/g, '')}?text=${encodeURIComponent(message)}`;

            closeForm();
            showMessage(`Thank you, ${name}! Redirecting you to WhatsApp now to send the pre-filled message...`, 'success');
            
            // Use a small delay for the message to display before redirecting
            setTimeout(() => {
                window.open(whatsappLink, '_blank');
            }, 500);
        }

        /**
         * Handles the Email form submission (opens mailto link).
         */
        function handleEmailSubmit(event) {
            event.preventDefault();

            const name = document.getElementById('emailName').value;
            const email = document.getElementById('emailAddr').value;
            const phone = document.getElementById('emailPhone').value;
            const age = document.getElementById('emailAge').value;
            const experience = document.getElementById('emailExperience').value;
            const goal = document.getElementById('emailGoal').value || 'Not Specified';
            const country = document.getElementById('emailCountry').value;
            const location = document.getElementById('emailLocation').value;
            const currency = document.getElementById('emailCurrency').value;
            const bank = document.getElementById('emailBank').value;

            if (!name || !email || !phone || !experience || !country || !location || !currency || !bank) {
                showMessage("Please fill out all required fields marked with *.", 'error');
                return;
            }

            const message = createMessageBody('email', name, email, phone, age, experience, goal, country, location, currency, bank);

            // Subject for the email
            const subject = encodeURIComponent(`New Lesson Booking Inquiry from ${name}`);

            // Construct the mailto link
            const mailtoLink = `mailto:${YOUR_EMAIL_ADDRESS}?subject=${subject}&body=${encodeURIComponent(message)}`;

            closeForm();
            showMessage(`Thank you, ${name}! Opening your email client to send the pre-filled request...`, 'success');

            // Use a small delay for the message to display before triggering mailto
            setTimeout(() => {
                window.location.href = mailtoLink;
            }, 500);
        }
    </script>
</body>
</html>

